!function o(a,r,h){function d(e,t){if(!r[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var s=r[e]={exports:{}};a[e][0].call(s.exports,function(t){return d(a[e][1][t]||t)},s,s.exports,o,a,r,h)}return r[e].exports}for(var c="function"==typeof require&&require,t=0;t<h.length;t++)d(h[t]);return d}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=WS.exports.Marionette,s=WS.exports.Cookies,o=n.View.extend({template:!1,ui:{bar:".cms--content--split--bar",handle:".cms--content--split--handle"},events:{"click @ui.handle":"toggleLeftPanel","mousedown @ui.bar":"onDragStart","touchstart @ui.bar":"onDragStart","pointerdown @ui.bar":"onDragStart"},initialize:function(){this.options={width:240,minWidth:240,maxWidth:500,collapsed:!1,dragStartThreshold:1,captureMode:{capture:!1,passive:!1}},this.state={width:s.get("wasabi_cms_tree_width")||this.options.width,collapsed:1===parseInt(s.get("wasabi_cms_tree_collapsed"))||this.options.collapsed,dragging:!1,initialX:0},this.state.width=Math.max(this.options.minWidth,this.state.width),this.state.width=Math.min(this.options.maxWidth,this.state.width),this.render()},onRender:function(){this.$rightPanel=this.$el.parent(),this.$leftPanel=this.$rightPanel.prev(),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.updatePanels()},onDragStart:function(t){if(t.preventDefault(),!(this.state.dragging||this.state.collapsed||/mousedown|pointerdown/.test(t.type)&&0!==t.button)){var e=t.touches&&t.touches[0];this.state.initialX=(e||t).clientX,document.addEventListener("mouseup",this.onDragEnd,this.options.captureMode),document.addEventListener("touchend",this.onDragEnd,this.options.captureMode),document.addEventListener("touchcancel",this.onDragEnd,this.options.captureMode),document.addEventListener("pointerup",this.onDragEnd,this.options.captureMode),document.addEventListener("mousemove",this.onDrag,this.options.captureMode),document.addEventListener("touchmove",this.onDrag,this.options.captureMode),document.addEventListener("pointermove",this.onDrag,this.options.captureMode)}},onDrag:function(t){t.preventDefault();var e=(t.touches?t.touches[0]:t).clientX-this.state.initialX;if(!this.state.dragging){if(this.options.dragStartThreshold&&Math.abs(e)<this.options.dragStartThreshold)return;this.state.dragging=!0}this.updatePanels(e)},onDragEnd:function(t){t.preventDefault(),document.removeEventListener("mouseup",this.onDragEnd,this.options.captureMode),document.removeEventListener("touchend",this.onDragEnd,this.options.captureMode),document.removeEventListener("touchcancel",this.onDragEnd,this.options.captureMode),document.removeEventListener("pointerup",this.onDragEnd,this.options.captureMode),document.removeEventListener("mousemove",this.onDrag,this.options.captureMode),document.removeEventListener("touchmove",this.onDrag,this.options.captureMode),document.removeEventListener("pointermove",this.onDrag,this.options.captureMode),this.state.width=parseInt(this.$leftPanel.css("width").split("px").join("")),s.set("wasabi_cms_tree_width",this.state.width),this.state.dragging=!1},toggleLeftPanel:function(t){this.state.collapsed=!this.state.collapsed,s.set("wasabi_cms_tree_collapsed",this.state.collapsed?1:0),this.updatePanels()},updatePanels:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=Math.min(this.options.maxWidth,Math.max(this.options.minWidth,this.state.width+t));this.$leftPanel.toggleClass("collapsed",this.state.collapsed),this.$leftPanel.css("width",e+"px"),this.$rightPanel.css("width","calc(100% - "+e+"px)")}});i.default=o},{}],2:[function(t,e,i){"use strict";var n,s=t("./components/split"),o=(n=s)&&n.__esModule?n:{default:n};var a=WS.exports.Module.extend({components:{split:{selector:".cms--content--split",viewClass:o.default}},sections:{},initialize:function(t){this.options=t},onStart:function(){this.initComponents(),this.initSections(),this.initEvents()},initEvents:function(){}});window.WS.registerModule("Wasabi/Cms",a)},{"./components/split":1}]},{},[2]);